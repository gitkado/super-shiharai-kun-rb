{
  "permissions": {
    "defaultMode": "acceptEdits"
  },
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Edit|Write|MultiEdit",
        "hooks": [
          {
            "type": "command",
            "command": "bundle exec rspec --fail-fast || echo 'ãƒ†ã‚¹ãƒˆå¤±æ•—ã€‚Claudeã«ä¿®æ­£ã‚’ä¾é ¼ã—ã¦ãã ã•ã„ã€‚'"
          },
          {
            "type": "command",
            "command": "bundle exec rubocop && bundle exec packwerk check && bundle exec brakeman -q"
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Bash|run_bash",
        "hooks": [
          {
            "type": "command",
            "command": "bash -lc '\n# å—ã‘å–ã£ãŸãƒ„ãƒ¼ãƒ«å‘¼ã³å‡ºã—ã®ãƒšã‚¤ãƒ­ãƒ¼ãƒ‰(JSON)ã‚’æ¨™æº–å…¥åŠ›ã‹ã‚‰èª­ã‚€\n# run_bash ã®ã¨ãã¯ .command ã¾ãŸã¯ .args ã«ã‚³ãƒžãƒ³ãƒ‰æ–‡å­—åˆ—ãŒå…¥ã‚‹æƒ³å®š\nPAYLOAD=$(cat);\nCMD=$(printf %s \"$PAYLOAD\" | jq -r \".command // .args // \\\"\\\" \");\n# git push ã‚’æ¤œå‡ºã—ãŸã‚‰ã‚¨ãƒ©ãƒ¼çµ‚äº†ï¼ˆClaudeã®å®Ÿè¡Œã‚’æ­¢ã‚ã‚‹ï¼‰\nif printf %s \"$CMD\" | grep -Eq \"(^|[[:space:]])git[[:space:]]+push(\\b|--)\"; then\n  echo \"ðŸš« git push ã¯Claudeã‹ã‚‰å®Ÿè¡Œã§ãã¾ã›ã‚“ã€‚æ‰‹å‹•ã§å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚\" 1>&2\n  exit 1\nfi\nexit 0\n'"
          }
        ]
      }
    ]
  },
  "env": {
    "MAX_THINKKING_TOKENS": "31999"
  },
  "disabledMcpjsonServers": ["serena"]
}
